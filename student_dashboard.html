<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>University of Makati - ECP Dashboard</title>
  <style>
    /* GLOBAL */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Century Gothic', sans-serif;
    }

    body {
      background-color: #f4f5f7;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* NAVIGATION BAR */
    nav {
      background-color: #022d6d;
      color: white;
      display: flex;
      align-items: center;
      padding: 10px 30px;
      height: 60px;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
    }

    nav img {
      height: 35px;
      margin-right: 15px;
      margin-left: 10px;
    }

    nav span {
      font-size: 16px;
      letter-spacing: 0.5px;
    }

    /* SIDEBAR */
    .sidebar {
      position: fixed;
      top: 60px; 
      left: 10;
      width: 200px;
      background-color: white;
      bottom: 0;
      border-right: 1px solid #ddd;
      padding-top: 20px;
      overflow-y: auto;
    }

    .sidebar a {
      display: block;
      padding: 12px 20px;
      color: #022d6d;
      text-decoration: none;
      font-size: 14px;
    }

    .sidebar a:hover,
    .sidebar a.active {
      background-color: #022d6d;
      color: white;
      border-radius: 4px;
      margin: 0 10px;
    }

    .logout-btn {
      background-color: #f30000;
      color: white;
      border: none;
      width: 80%;
      padding: 10px;
      margin: 350px 10%;
      border-radius: 3px;
      cursor: pointer;
    }

    /* MAIN CONTENT */
    .main-content {
      margin-left: 210px;
      margin-top: 80px; 
      padding: 30px;
      flex: 1;
    }

    h2 {
      color: #f36b00;
      font-weight: normal;
      margin-bottom: 20px;
    }

    /* DASHBOARD CARDS */
    .cards {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      margin-bottom: 30px;
    }

    .card {
      background-color: white;
      flex: 1;
      min-width: 220px;
      padding: 15px;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-align: center;
    }

    .card h4 {
      font-size: 14px;
      color: #022d6d;
      margin-bottom: 5px;
    }

    .card p {
      font-size: 28px;
      color: #000;
    }

    /* CALENDAR & UPCOMING EVENTS */
    .bottom-section {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .calendar, .upcoming {
      background-color: white;
      flex: 1;
      min-width: 350px;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      padding: 15px;
    }

    .calendar h4, .upcoming h4 {
      color: #022d6d;
      margin-bottom: 10px;
    }

    /* CALENDAR TABLE */
    table {
      width: 100%;
      border-collapse: collapse;
      text-align: center;
    }

    th {
      background-color: #022d6d;
      color: white;
      padding: 8px;
      font-size: 13px;
    }

    td {
      padding: 10px;
      border: 1px solid #ddd;
      height: 40px;
      vertical-align: middle;
    }

    .calendar-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      color: #022d6d;
    }

    .calendar-nav button {
      background-color: transparent;
      border: none;
      font-size: 18px;
      color: #022d6d;
      cursor: pointer;
    }

    /* HIGHLIGHT TODAY'S DATE */
    .today {
      background-color: #022d6d;
      color: white;
      border-radius: 4px;
      font-weight: bold;
    }

    .upcoming p {
      color: #022d6d;
      font-size: 14px;
      text-align: center;
      margin-top: 40px;
    }

    /* FOOTER */
    footer {
      background-color: #242424;
      color: #f36b00;
      display: flex;
      justify-content: space-around;
      align-items: flex-start;
      padding: 40px 80px;
      font-size: 16px;
      flex-wrap: wrap;
      margin-top: 40px;
    }

    footer .footer-section {
      max-width: 400px;
      margin-left: 80px;
    }

    footer h4 {
      color: #f36b00;
      margin-bottom: 10px;
    }

    footer p {
      color: white;
      font-size: 14px;
      line-height: 1.6;
    }

    footer a {
      color: white;
      text-decoration: underline;
      font-size: 14px;
    }

    footer a:hover {
      color: #f36b00;
    }

    /* EVENT BOX STYLE */
    .event-box {
      background-color: #e9f0ff;
      border-left: 4px solid #022d6d;
      padding: 10px 15px;
      border-radius: 4px;
      margin-bottom: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      text-align: left;
    }

    .event-box h5 {
      color: #022d6d;
      margin-bottom: 5px;
      font-size: 14px;
      text-align: left;
    }

    .event-box p {
      font-size: 13px;
      color: #333;
      margin: 2px 0;
      text-align: left;
    }

  </style>
</head>

<body>

  <!-- NAVIGATION BAR -->
  <nav>
    <img src="UMAK LOGO.png" alt="UMak Logo">
    <span><span>University of Makati - ECP</span></span>
  </nav>

  <!-- SIDEBAR -->
  <div class="sidebar">
    <a href="#" class="active">Dashboard</a>
    <a href="student_events.html">Event Registration</a>
    <a href="#">Venues</a>
    <a href="#">Post-Evaluation</a>
    <a href="#">My Events</a>
    <button class="logout-btn" onclick="logout()">Logout</button>
  </div>

  <!-- MAIN CONTENT -->
  <div class="main-content">
    <h2 id="greeting">Hi!</h2>

    <!-- DASHBOARD CARDS -->
    <div class="cards">
      <div class="card">
        <h4>Registered Events</h4>
        <p>0</p>
      </div>
      <div class="card">
        <h4>Available Events</h4>
        <p>1</p>
      </div>
      <div class="card">
        <h4>Attended Events</h4>
        <p>0</p>
      </div>
      <div class="card">
        <h4>Pending Post-Evaluation</h4>
        <p>0</p>
      </div>
    </div>

    <!-- CALENDAR + UPCOMING EVENTS -->
    <div class="bottom-section">
      <div class="calendar">
        <h4>Event Calendar</h4>
        <div class="calendar-nav">
          <button id="prevMonth">&#9664;</button>
          <span id="monthYear"></span>
          <button id="nextMonth">&#9654;</button>
        </div>
        <table id="calendarTable"></table>
      </div>

      <div class="upcoming">
        <h4>Upcoming Events</h4>
        <div id="upcomingContainer"></div>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer>
    <div class="footer-section">
      <h4>About ECP</h4>
      <p>
        The Event Coordination Portal serves as the central management system for events
        organized by the colleges of the University of Makati. It intends to oversee event
        operations, track student participation, and maintain an updated event calendar.
      </p>
    </div>
    <div class="footer-section">
      <h4>Links</h4>
      <a href="https://www.umak.edu.ph/" target="_blank">University of Makati</a>
    </div>
  </footer>

  <script>
    // GREETING 
    const username = localStorage.getItem("username") || "User";
    document.getElementById("greeting").innerHTML = `Hi, ${username.toUpperCase()}! üëã`;

    function logout() {
      localStorage.removeItem("username");
      window.location.href = "ecp_login.html"; 
    }

    // CALENDAR
    const monthYear = document.getElementById("monthYear");
    const calendarTable = document.getElementById("calendarTable");
    const prevMonthBtn = document.getElementById("prevMonth");
    const nextMonthBtn = document.getElementById("nextMonth");

    let currentDate = new Date();

    function renderCalendar(date) {
      const year = date.getFullYear();
      const month = date.getMonth();
      const today = new Date();
      const firstDay = new Date(year, month, 1);
      const lastDay = new Date(year, month + 1, 0);

      const startDay = firstDay.getDay();
      const totalDays = lastDay.getDate();

      const monthNames = [
        "January","February","March","April","May","June",
        "July","August","September","October","November","December"
      ];

      monthYear.textContent = `${monthNames[month]} ${year}`;

      let table = "<tr>";
      const days = ["SUN","MON","TUE","WED","THU","FRI","SAT"];
      days.forEach(d => table += `<th>${d}</th>`);
      table += "</tr><tr>";

      for (let i = 0; i < startDay; i++) table += "<td></td>";

      for (let day = 1; day <= totalDays; day++) {
        let className = "";
        if (
          day === today.getDate() &&
          month === today.getMonth() &&
          year === today.getFullYear()
        ) {
          className = "today";
        }
        table += `<td class="${className}">${day}</td>`;
        if ((day + startDay) % 7 === 0) table += "</tr><tr>";
      }

      table += "</tr>";
      calendarTable.innerHTML = table;
    }

    prevMonthBtn.addEventListener("click", () => {
      currentDate.setMonth(currentDate.getMonth() - 1);
      renderCalendar(currentDate);
    });

    nextMonthBtn.addEventListener("click", () => {
      currentDate.setMonth(currentDate.getMonth() + 1);
      renderCalendar(currentDate);
    });

    renderCalendar(currentDate);

    // UPCOMING EVENTS
    const upcomingContainer = document.getElementById("upcomingContainer");

    const events = [
      { title: "CCIS Student Leadership Team Building 2025", 
      date: "November 7, 2025", 
      venue: "HPSB Basketball Court, 11th Floor Cafeteria" },
      
    ];

    if (events.length > 0) {
      events.forEach(ev => {
        const box = document.createElement("div");
        box.classList.add("event-box");
        box.innerHTML = `
          <h5>${ev.title}</h5>
          <p>üìÖ ${ev.date}</p>
          <p>üìç ${ev.venue}</p>
        `;
        upcomingContainer.appendChild(box);
      });
    } else {
      upcomingContainer.innerHTML = `<p id="upcomingText">No upcoming events</p>`;
    }

  </script>

</body>
</html>
